# 아서앤그레이스 고객관리시스템

아서앤그레이스 브랜드의 고객 정보를 효율적으로 관리할 수 있는 웹 기반 시스템입니다.

## 🌟 주요 기능

- **고객 정보 관리**: 고객 등록, 수정, 삭제
- **구매 이력 추적**: 상세한 구매 기록 관리
- **선물 이력 관리**: 고객별 선물 제공 내역
- **방문 주기 분석**: 고객 방문 패턴 추적
- **등급 시스템**: 총 구매액 기준 자동 등급 분류 (VVIP/VIP/일반)
- **생일 알림**: 이번 달/다음 달 생일 고객 알림
- **엑셀 데이터 처리**: 대량 데이터 업로드/다운로드
- **📱 모바일 최적화**: 반응형 디자인으로 모바일에서도 편리하게 사용
- **🔥 Firebase 실시간 동기화**: Google Firebase 기반 실시간 데이터 동기화
- **🔄 테이블 정렬**: 고객 목록을 이름, 등급, 생년월일 등으로 정렬 가능

## 🔥 Firebase 실시간 동기화 설정 가이드

### 1단계: Firebase 프로젝트 생성 및 설정

1. **Firebase Console 접속**
   - [Firebase Console](https://console.firebase.google.com)에 접속
   - Google 계정으로 로그인

2. **새 프로젝트 생성**
   - "프로젝트 추가" 클릭
   - 프로젝트 이름: "고객관리시스템" 입력
   - Google Analytics 사용 여부 선택 (선택사항)
   - "프로젝트 만들기" 클릭

3. **Realtime Database 활성화**
   - 좌측 메뉴에서 "Realtime Database" 클릭
   - "데이터베이스 만들기" 클릭
   - 보안 규칙: "테스트 모드에서 시작" 선택
   - 위치: "asia-southeast1 (싱가포르)" 선택 (한국과 가장 가까움)
   - "완료" 클릭

4. **Web API Key 확인**
   - 좌측 메뉴에서 "프로젝트 설정" (톱니바퀴 아이콘) 클릭
   - "일반" 탭에서 "웹 API 키" 복사

5. **Database URL 확인**
   - "Realtime Database"로 돌아가기
   - 상단에 표시된 데이터베이스 URL 복사 (예: `https://your-project-default-rtdb.firebaseio.com/`)

### 2단계: 시스템에서 Firebase 동기화 활성화

1. **고객관리시스템 접속**
   - 웹사이트에 로그인

2. **Firebase 동기화 설정 열기**
   - 상단 네비게이션에서 "🔥 Firebase 동기화" 클릭

3. **설정 정보 입력**
   - **Database URL**: Firebase에서 복사한 Realtime Database URL
   - **Web API Key**: Firebase에서 복사한 Web API Key
   - "Firebase 동기화 활성화" 클릭

### 3단계: 동기화 확인

1. **테스트 데이터 입력**
   - PC에서 고객 정보 추가

2. **다른 기기에서 확인**
   - 모바일/태블릿에서 같은 웹사이트 접속
   - 실시간으로 데이터 동기화 확인 (최대 5초 지연)

## 💡 Firebase 동기화 작동 원리

### 📊 Firebase 실시간 동기화 특징
- **실시간 리스너**: Server-Sent Events를 통한 즉시 데이터 변경 감지
- **자동 감지**: 다른 기기에서 데이터 변경 시 실시간 감지
- **충돌 방지**: 타임스탬프 기반으로 최신 데이터 우선 적용
- **기기 구분**: 각 기기에 고유 ID 부여로 무한 루프 방지
- **즉시 저장**: 데이터 변경 시 즉시 Firebase에 저장
- **자동 재연결**: 연결 끊김 시 자동으로 재연결 시도

### 🔄 Firebase 동기화 상태 표시
- 🔥 **Firebase 실시간 연결됨**: 실시간 리스너 활성화
- ✅ **Firebase 동기화 완료**: 최신 데이터로 업데이트됨
- 🔄 **Firebase 동기화 중**: 데이터를 업데이트하는 중
- ❌ **Firebase 동기화 실패**: 네트워크 오류 또는 설정 문제
- 📶 **오프라인 모드**: 로컬 데이터만 사용

## 🔧 기술 스택

- **Frontend**: HTML5, CSS3, JavaScript (ES6+)
- **UI Framework**: Bootstrap 5.3
- **Icons**: Bootstrap Icons
- **PDF 생성**: jsPDF
- **Excel 처리**: SheetJS
- **실시간 동기화**: Firebase Realtime Database
- **정렬 기능**: 한국어 localeCompare 지원

## 📱 모바일 최적화

- 터치 친화적 UI (최소 44px 버튼)
- 반응형 레이아웃 (768px 이하 모바일 최적화)
- 모바일 전용 하단 고정 버튼
- 스크롤 가능한 모달창
- 간소화된 폼 레이아웃

## 🎯 등급 시스템

- **VVIP**: 총 구매액 2,000만원 이상 (보라색 배지)
- **VIP**: 총 구매액 1,000만원 이상 (빨간색 배지)
- **일반**: 그 외 모든 고객 (파란색 배지)

등급은 구매 기록 추가/수정/삭제 시 자동으로 업데이트됩니다.

## 🔐 보안 및 프라이버시

- 패스워드 기반 접근 제어 (기본 비밀번호: `grace1`)
- Firebase API 키 암호화 저장
- HTTPS 사용 권장
- 개인정보 로컬 저장 (브라우저 로컬 스토리지)

## 📖 사용법

### 기본 사용
1. **로그인**: 비밀번호 입력 후 접속
2. **고객 등록**: 개별 등록 또는 엑셀 업로드
3. **데이터 관리**: 구매, 선물, 방문 기록 추가
4. **정렬**: 테이블 헤더 클릭으로 정렬

### Firebase 동기화 사용
1. **초기 설정**: Firebase 프로젝트 설정 (1회만)
2. **실시간 동기화**: 모든 기기에서 실시간으로 데이터 동기화
3. **상태 확인**: 상단에서 Firebase 동기화 상태 실시간 확인

## 🌐 배포 방법

### GitHub Pages
```bash
1. GitHub 저장소에 코드 업로드
2. Settings → Pages → Source를 main branch로 설정
3. 생성된 URL로 접속
```

### Netlify
```bash
1. Netlify에 저장소 연결
2. netlify.toml 파일 자동 인식
3. 자동 배포 완료
```

### Vercel
```bash
1. Vercel에 저장소 연결
2. vercel.json 설정 파일 자동 인식
3. 자동 배포 완료
```

## 🚨 문제 해결

### Firebase 동기화 문제
- **동기화 실패**: Firebase Database URL과 Web API Key 확인
- **실시간 연결 실패**: Firebase 보안 규칙 확인 (테스트 모드 권장)
- **데이터 미동기화**: 네트워크 연결 상태 확인
- **중복 데이터**: 브라우저 캐시 삭제 후 재시도

### 일반적인 문제
- **로그인 안됨**: 비밀번호 확인 (`grace1`)
- **모바일 표시 문제**: 브라우저 새로고침
- **엑셀 업로드 실패**: 파일 형식 확인 (.xlsx, .xls)

## 🤝 기여 방법

버그 리포트나 기능 제안은 GitHub Issues를 통해 제출해주세요.

## 📄 라이선스

MIT License

---

## 🔗 접속 정보

**웹사이트**: [https://your-username.github.io/고객관리사이트](https://your-username.github.io/고객관리사이트)

**기본 로그인 정보**:
- 비밀번호: `grace1`

---

© 2024 아서앤그레이스 고객관리시스템 